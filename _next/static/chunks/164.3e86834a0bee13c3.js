"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{73164:function(e,n,r){r.r(n);var t=r(50029),s=r(19848),o=r.n(s),a=r(87794),i=r.n(a),c=r(67294),l=r(39109);r(48093);var u=r(28969),d=r(85893);n.default=function(){var e,n=(0,c.useRef)(null),r=(0,c.useRef)(null),s=(0,c.useRef)(null),a=(0,c.useState)(null),f=a[0];a[1];var h=(0,c.useState)(!1),p=h[0];h[1];var v=(0,c.useState)(!1),m=(v[0],v[1]);(0,c.useEffect)(function(){if(n.current){new u.Z,m(/iPhone|iPad|iPod/i.test(navigator.userAgent));var e=new l.D4V(n.current,!0,{preserveDrawingBuffer:!0,stencil:!0});e.setHardwareScalingLevel(1/window.devicePixelRatio),r.current=e;var t=new l.xsS(e);t.useRightHandedSystem=!0,t.skipPointerMovePicking=!0,t.blockMaterialDirtyMechanism=!0,t.useConstantAnimationDeltaTime=!0,s.current=t;var o=new l.YfP("camera",Math.PI/2,Math.PI/4,5,l.Pa4.Zero(),t);o.attachControl(n.current,!0),o.minZ=.1,o.maxZ=100,new l.ezm("light",new l.Pa4(1,1,0),t).intensity=.7,l.n0n.ImportMeshAsync("","spz/","spz1.spz",t).then(function(e){e.meshes.forEach(function(e){return e.freezeWorldMatrix()}),console.log("SPZ model loaded!")}).catch(function(e){return console.error("Error loading SPZ model:",e)}),t.freezeActiveMeshes(),t.materials.forEach(function(e){return e.freeze()}),e.runRenderLoop(function(){t.render()});var a=function(){return e.resize()};return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a),e.stopRenderLoop(),t.dispose(),e.dispose(),r.current=null,s.current=null,console.log("Babylon.js resources cleaned up.")}}},[]);var w=(e=(0,t.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!f||!f.baseExperience)){e.next=3;break}return alert("AR is not supported on this device."),e.abrupt("return");case 3:return e.prev=3,e.next=6,f.baseExperience.enterXRAsync("immersive-ar","local-floor");case 6:console.log("AR mode started!"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("Failed to enter AR mode:",e.t0),alert("WebXR AR is not supported on this device.");case 13:case"end":return e.stop()}},e,null,[[3,9]])})),function(){return e.apply(this,arguments)});return(0,d.jsxs)("div",{className:"jsx-3234727251 relative w-full h-full flex justify-center items-center",children:[(0,d.jsx)("canvas",{ref:n,className:"jsx-3234727251 w-full h-full"}),p&&(0,d.jsx)("button",{onClick:w,className:"jsx-3234727251 absolute bottom-4 px-6 py-3 bg-blue-600 text-white rounded-lg shadow-lg hover:bg-blue-700 transition",children:"Start AR Mode"}),(0,d.jsx)(o(),{id:"3234727251",children:["canvas{width:100%;height:100%;background-color:#000;position:absolute;z-index:-1;}"]})]})}}}]);