"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{73164:function(e,n,t){t.r(n);var r=t(50029),s=t(19848),a=t.n(s),o=t(87794),c=t.n(o),i=t(67294),u=t(39109);t(48093);var l=t(28969),d=t(85893);n.default=function(){var e,n=(0,i.useRef)(null),t=(0,i.useState)(null),s=t[0],o=t[1],p=(0,i.useState)(!1),f=p[0],h=p[1],x=(0,i.useState)(!1),b=(x[0],x[1]);(0,i.useEffect)(function(){if(n.current){var e;new l.Z,b(/iPhone|iPad|iPod/i.test(navigator.userAgent)),(e=(0,r.Z)(c().mark(function e(){var t,r,s;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new u.D4V(n.current,!0),r=new u.xsS(t),new u.YfP("camera",Math.PI/2,Math.PI/4,5,u.Pa4.Zero(),r).attachControl(n.current,!0),new u.ezm("light",new u.Pa4(1,1,0),r).intensity=.7,e.prev=6,e.next=9,u.n0n.LoadAssetContainerAsync("/spz/spz1.spz","");case 9:e.sent.addAllToScene(),console.log("SPZ model loaded!"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.error("Error loading SPZ model:",e.t0);case 17:return e.prev=17,e.next=20,r.createDefaultXRExperienceAsync();case 20:o(s=e.sent),s.baseExperience&&(h(!0),console.log("WebXR is supported!")),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(17),console.error("Failed to initialize WebXR:",e.t1);case 28:return t.runRenderLoop(function(){r.render()}),window.addEventListener("resize",function(){return t.resize()}),e.abrupt("return",function(){t.dispose()});case 31:case"end":return e.stop()}},e,null,[[6,14],[17,25]])})),function(){return e.apply(this,arguments)})()}},[]);var v=(e=(0,r.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!s||!s.baseExperience)){e.next=3;break}return alert("AR is not supported on this device."),e.abrupt("return");case 3:return e.prev=3,e.next=6,s.baseExperience.enterXRAsync("immersive-ar","local-floor");case 6:console.log("AR mode started!"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("Failed to enter AR mode:",e.t0),alert("WebXR AR is not supported on this device.");case 13:case"end":return e.stop()}},e,null,[[3,9]])})),function(){return e.apply(this,arguments)});return(0,d.jsxs)("div",{className:"jsx-1740772930 relative w-full h-full flex justify-center items-center",children:[(0,d.jsx)("canvas",{ref:n,className:"jsx-1740772930 w-full h-full"}),f&&(0,d.jsx)("button",{onClick:v,className:"jsx-1740772930 absolute bottom-4 px-6 py-3 bg-blue-600 text-white rounded-lg shadow-lg hover:bg-blue-700 transition",children:"Start AR Mode"}),(0,d.jsx)(a(),{id:"1740772930",children:["canvas{width:100%;height:100%;background-color:#000;position:absolute;z-index:-1;}","button{background-color:crimson;padding:16px;}"]})]})}}}]);