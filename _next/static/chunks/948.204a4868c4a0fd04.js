"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{57948:function(e,n,t){t.r(n);var r=t(50029),i=t(87794),s=t.n(i),a=t(67294),o=t(83165);t(48093);var c=t(85893);n.default=function(e){var n=e.modelUrl,t=(0,a.useRef)(null);return(0,a.useEffect)(function(){if(t.current){var e=new o.D4V(t.current,!0),i=new o.xsS(e);return new o.YfP("camera",Math.PI/2,Math.PI/4,5,o.Pa4.Zero(),i).attachControl(t.current,!0),new o.ezm("light",new o.Pa4(1,1,0),i).intensity=.7,(0,r.Z)(s().mark(function e(){var t,r,a,c;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.n0n.LoadAssetContainerAsync("",n,i);case 2:return t=e.sent,e.next=5,i.createDefaultXRExperienceAsync({uiOptions:{sessionMode:"immersive-ar"}});case 5:return r=e.sent,e.next=8,r.baseExperience.enterXRAsync("immersive-ar","unbounded",r.renderTarget);case 8:r.baseExperience.featuresManager.enableFeature(o.bxS.PLANE_DETECTION,"latest",{preferredDetectorOptions:{},outputMeshDescriptors:{visible:!0,pickable:!0,classification:!0,attributes:!0}}),a=new o.Kj0("root",i),t.meshes.forEach(function(e){"root"!==e.name&&(e.parent=a)}),a.scaling=new o.Pa4(1,1,1),a.position=new o.Pa4(0,0,0),t.addAllToScene(),c=!1,i.onPointerObservable.add(function(e){if(r.baseExperience.state===o.kIW.IN_XR)switch(e.type){case o.kD3.POINTERDOWN:c=!0;break;case o.kD3.POINTERUP:c=!1;break;case o.kD3.POINTERMOVE:if(!c)return;var n=i.pick(i.pointerX,i.pointerY,function(e){return e.name.startsWith("xr-plane-mesh")});if(null!=n&&n.hit&&n.pickedPoint){var t=n.pickedPoint,s=t.x,u=t.z;a.position.x=s,a.position.z=u}}});case 17:case"end":return e.stop()}},e)}))(),e.runRenderLoop(function(){i.render()}),window.addEventListener("resize",function(){return e.resize()}),function(){e&&(e.stopRenderLoop(),e.dispose()),i&&(i.meshes.forEach(function(e){return e.dispose()}),i.dispose())}}},[n]),(0,c.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,c.jsx)("canvas",{ref:t,style:{width:"100%",height:"100%"}})})}}}]);