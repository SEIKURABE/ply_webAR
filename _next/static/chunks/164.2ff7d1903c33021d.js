"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{73164:function(e,n,r){r.r(n);var t=r(50029),s=r(19848),o=r.n(s),a=r(87794),i=r.n(a),c=r(67294),u=r(83165);r(48093);var l=r(28969),f=r(85893);n.default=function(){var e,n=(0,c.useRef)(null),r=(0,c.useRef)(null),s=(0,c.useRef)(null),a=(0,c.useState)(!1),d=a[0],p=a[1];(0,c.useEffect)(function(){if(n.current){new l.Z;var e=new u.D4V(n.current,!0,{preserveDrawingBuffer:!0,stencil:!0});e.setHardwareScalingLevel(1/window.devicePixelRatio),r.current=e;var t=new u.xsS(e);t.useRightHandedSystem=!0,t.skipPointerMovePicking=!0,t.blockMaterialDirtyMechanism=!0,t.useConstantAnimationDeltaTime=!0,s.current=t,u.gCP.IsSessionSupportedAsync("immersive-vr").then(function(e){console.log("xr supported----",e),p(e)}).catch(function(){p(!1)});var o=new u.YfP("camera",Math.PI/2,Math.PI/4,5,u.Pa4.Zero(),t);o.attachControl(n.current,!0),o.minZ=.1,o.maxZ=100,new u.ezm("light",new u.Pa4(1,1,0),t).intensity=.7,u.n0n.ImportMeshAsync("","spz/","spz1.spz",t).then(function(e){e.meshes.forEach(function(e){return e.freezeWorldMatrix()}),console.log("SPZ model loaded!")}).catch(function(e){return console.error("Error loading SPZ model:",e)}),t.freezeActiveMeshes(),t.materials.forEach(function(e){return e.freeze()}),e.runRenderLoop(function(){t.render()});var a=function(){return e.resize()};return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a),e.stopRenderLoop(),t.dispose(),e.dispose(),r.current=null,s.current=null,console.log("Babylon.js resources cleaned up.")}}},[]);var h=(e=(0,t.Z)(i().mark(function e(){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,s.current.createDefaultXRExperienceAsync({uiOptions:{sessionMode:"immersive-ar"}});case 5:return(n=e.sent).baseExperience.onStateChangedObservable.add(function(e){e===u.kIW.IN_XR&&console.log("AR session started")}),e.next=9,n.baseExperience.enterXRAsync("immersive-ar","local-floor");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("AR start failed:",e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])})),function(){return e.apply(this,arguments)});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("canvas",{ref:n,className:"jsx-1054659888 w-full h-full"}),d&&(0,f.jsx)("button",{onClick:h,className:"jsx-1054659888 ar-button",children:"Start AR Mode"}),(0,f.jsx)(o(),{id:"1054659888",children:["canvas{width:100%;height:100%;background-color:#000;position:absolute;z-index:-1;}",".ar-buttton{position:absolute;top:0;left:0;z-index:2;}"]})]})}}}]);