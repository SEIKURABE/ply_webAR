"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{57948:function(e,n,r){r.r(n);var t=r(50029),s=r(87794),a=r.n(s),i=r(67294),o=r(83165);r(48093);var c=r(85893);n.default=function(e){var n=e.modelUrl,r=(0,i.useRef)(null);return(0,i.useEffect)(function(){if(r.current){var e=new o.D4V(r.current,!0),s=new o.xsS(e);return new o.YfP("camera",Math.PI/2,Math.PI/4,5,o.Pa4.Zero(),s).attachControl(r.current,!0),new o.ezm("light",new o.Pa4(1,1,0),s).intensity=.7,(0,t.Z)(a().mark(function e(){var r;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.n0n.LoadAssetContainerAsync("",n,s);case 2:return e.sent,e.next=5,s.createDefaultXRExperienceAsync({uiOptions:{sessionMode:"immersive-ar"}});case 5:return r=e.sent,e.next=8,r.baseExperience.enterXRAsync("immersive-ar","local-floor",r.renderTarget);case 8:r.baseExperience.featuresManager.enableFeature(o.bxS.PLANE_DETECTION,"latest",{preferredDetectorOptions:{},outputMeshDescriptors:{visible:!0,pickable:!0,classification:!0,attributes:!0}}).onPlaneAddedObservable.add(function(e){var n=e.xrPlaneMesh;if(n){var r=new o.KuD("planeMat",s);r.diffuseColor=new o.Wot(.2,.8,1),r.alpha=.3,n.material=r}});case 11:case"end":return e.stop()}},e)}))(),e.runRenderLoop(function(){s.render()}),window.addEventListener("resize",function(){return e.resize()}),function(){e&&(e.stopRenderLoop(),e.dispose()),s&&(s.meshes.forEach(function(e){return e.dispose()}),s.dispose())}}},[n]),(0,c.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,c.jsx)("canvas",{ref:r,style:{width:"100%",height:"100%"}})})}}}]);